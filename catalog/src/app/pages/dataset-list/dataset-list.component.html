<div class="row">
  <menu class="col-4">

    <ng-container *ngIf="publishers.length > 1">
      <h3>Poskytovatel</h3>
      <app-nav-filter [options]="publishers" [(selected)]="filter.publisher" (selectedChange)="updateFilter()"></app-nav-filter>
    </ng-container>

    <ng-container *ngIf="themes.length > 1">
      <h3 class="mt-5">Téma</h3>
      <app-nav-filter [options]="themes" [(selected)]="filter.theme" (selectedChange)="updateFilter()"></app-nav-filter>
    </ng-container>

    <ng-container *ngIf="keywords.length > 1">
      <h3 class="mt-5">Klíčová slova</h3>
      <app-nav-filter [options]="keywords" [(selected)]="filter.keyword" (selectedChange)="updateFilter()"></app-nav-filter>
    </ng-container>

    <ng-container *ngIf="formats.length > 1">
      <h3 class="mt-5">Formáty</h3>
      <app-nav-filter [options]="formats" [(selected)]="filter.format" (selectedChange)="updateFilter()"></app-nav-filter>
    </ng-container>

  </menu>

  <main class="col-8">

    <div class="info">
      <p *ngIf="!loading">
        Nalezeno {{count}} datových sad.
        <ng-container *ngIf="filter.hideChild">Podřízené datové sady jsou skryté. <a [routerLink]="getFilterLink({hideChild:false})" replaceUrl>Zobrazit</a></ng-container>
        <ng-container *ngIf="!filter.hideChild"><a [routerLink]="getFilterLink({hideChild:true})" replaceUrl>Skrýt podřízené datové sady.</a></ng-container>
      </p>
      <p *ngIf="loading">Načítám...</p>
    </div>

    <div class="datasets">
      <div *ngFor="let dataset of datasets" class="dataset">
        <h4><a [routerLink]="['/datasets',dataset.iri]">{{ dataset.title }}</a></h4>
        <p>{{dataset.description}}&nbsp;</p>
      </div>
    </div>

    <div class="pager">
      <a *ngIf="datasets.length < count" (click)="loadDatasets(true)" class="btn">Načíst dalších {{limit}}</a>
    </div>

  </main>
</div>