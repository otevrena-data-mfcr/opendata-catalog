<div class="breadcrumbs">
  <a routerLink="/">Katalog datových sad</a>
  <span> / </span>
  <ng-container *ngFor="let parentDataset of parentDatasets">
    <a [routerLink]="['/datasets',parentDataset.iri]">{{parentDataset.title}}</a>
    <span> / </span>
  </ng-container>
  <a>{{dataset?.title}}</a>
</div>

<div class="description">
  <h2>{{dataset?.title}}</h2>

  <p>{{dataset?.description}}</p>
</div>

<div *ngIf="previews.length">
  <h3>Ukázka dat</h3>

  <ng-container *ngFor="let distribution of previews">

    <h4>{{distribution.metadata?.format}} ({{distribution.headers?.contentType}})</h4>

    <app-data-preview [data]="distribution.preview" [mimeType]="distribution.headers.contentType"></app-data-preview>

  </ng-container>

</div>

<div *ngIf="childDatasets.length" class="childDatasets">
  <app-dataset-card *ngFor="let childDataset of childDatasets" [dataset]="childDataset"></app-dataset-card>
</div>

<div *ngIf="dataset?.documentation" class="documentation">
  <a class="btn primary" [href]="dataset?.documentation">Otevřít dokumentaci</a>
</div>

<h3 *ngIf="distributions?.length">Datové soubory</h3>
<div class="distributions">
  <div *ngFor="let distribution of distributions" class="distribution">
    <app-distribution-card [metadata]="distribution.metadata" [headers]="distribution.headers"></app-distribution-card>
  </div>
</div>

<div class="metadata">
  <h3>Katalogizační záznam</h3>
  <table>
    <tbody>
      <tr>
        <th>IRI:</th>
        <td>{{dataset?.iri}}</td>
      </tr>
      <tr>
        <th>Název:</th>
        <td>{{dataset?.title}}</td>
      </tr>
      <tr>
        <th>Poskytovatel:</th>
        <td>{{dataset?.publisher}}</td>
      </tr>
      <tr>
        <th>Témata:</th>
        <td class="list">
          <a *ngFor="let theme of dataset?.themes" [routerLink]="['/datasets',{theme:theme.iri}]">{{theme.title}}</a>
        </td>
      </tr>
      <tr *ngIf="dataset?.accrualPeriodicity">
        <th>Frekvence aktualizace:</th>
        <td>{{dataset?.accrualPeriodicity}}</td>
      </tr>
    </tbody>
  </table>
</div>